-- 해답: 가격대 별 상품 개수 구하기
SELECT 
    FLOOR(PRICE / 10000) * 10000 AS PRICE_GROUP,
    COUNT(*) AS PRODUCTS
FROM 
    PRODUCT
GROUP BY 
    FLOOR(PRICE / 10000)
ORDER BY 
    PRICE_GROUP;

-- 방법 2: TRUNCATE 함수 사용
SELECT 
    TRUNCATE(PRICE, -4) AS PRICE_GROUP,
    COUNT(*) AS PRODUCTS
FROM 
    PRODUCT
GROUP BY 
    TRUNCATE(PRICE, -4)
ORDER BY 
    PRICE_GROUP;

-- 방법 3: CASE WHEN 사용 (더 직관적)
SELECT 
    CASE 
        WHEN PRICE < 10000 THEN 0
        WHEN PRICE < 20000 THEN 10000
        WHEN PRICE < 30000 THEN 20000
        WHEN PRICE < 40000 THEN 30000
        WHEN PRICE < 50000 THEN 40000
        WHEN PRICE < 60000 THEN 50000
        WHEN PRICE < 70000 THEN 60000
        WHEN PRICE < 80000 THEN 70000
        WHEN PRICE < 90000 THEN 80000
        ELSE 90000
    END AS PRICE_GROUP,
    COUNT(*) AS PRODUCTS
FROM 
    PRODUCT
GROUP BY 
    CASE 
        WHEN PRICE < 10000 THEN 0
        WHEN PRICE < 20000 THEN 10000
        WHEN PRICE < 30000 THEN 20000
        WHEN PRICE < 40000 THEN 30000
        WHEN PRICE < 50000 THEN 40000
        WHEN PRICE < 60000 THEN 50000
        WHEN PRICE < 70000 THEN 60000
        WHEN PRICE < 80000 THEN 70000
        WHEN PRICE < 90000 THEN 80000
        ELSE 90000
    END
ORDER BY 
    PRICE_GROUP;
